<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <meta http-equiv="refresh" content="15" /> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Word hiding paths</title>
  </head>
  <body style="text-align: center; margin: 0; padding: 0">
    <canvas
      style="border: 1px solid red"
      id="gridCanvas"
      width="200"
      height="200"
    ></canvas>

    <div>
      With the help of Chat GPT, the following was derived quite easily. This
      html page uses a path finding algorithm and canvas to generate and display
      one of many possible random word hiding paths.
    </div>

    <script>
      const word = "LOSTWORDS";

      let directions = [
        [-1, 0], // Up
        [1, 0], // Down
        [0, -1], // Left
        [0, 1], // Right
        [1, 1], // Up and Right
        [-1, -1], // Up and Left
        [1, -1], // Down and Left
        [-1, 1], // Up and Right
      ];

      let ind = Math.floor(Math.random() * 8);

      // enable below for static direction
      // directions = [[directions[ind][0], directions[ind][1]]];

      const allPaths = findAllSnakePaths(word, word.length);

      function findAllSnakePaths(word, gs) {
        const grid_size = 20;
        const center = Math.floor(grid_size / 2);

        const validPaths = [];

        function isInsideGrid(x, y) {
          return x >= 0 && x < grid_size && y >= 0 && y < grid_size;
        }

        function findPathsRecursive(x, y, path) {
          if (path.length === word.length) {
            validPaths.push([...path]);
            return;
          }

          for (const [dx, dy] of directions) {
            const newX = x + dx;
            const newY = y + dy;

            if (
              isInsideGrid(newX, newY) &&
              !path.some((coords) => coords[0] === newX && coords[1] === newY)
            ) {
              path.push([newX, newY]);
              findPathsRecursive(newX, newY, path);
              path.pop();
            }
          }
        }

        findPathsRecursive(center, center, [[center, center]]);

        return validPaths;
      }

      function displayWordSnake() {
        const canvas = document.getElementById("gridCanvas");

        const ctx = canvas.getContext("2d");

        ctx.fillStyle = "blue";

        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // ctx.fillStyle = "blue";

        // ctx.fillRect(0, 0, canvas.width, canvas.height);

        let coordinates = [
          [
            [3, 3],
            [2, 3],
            [1, 3],
          ],
          [
            [3, 3],
            [2, 3],
            [2, 2],
          ],
          [
            [3, 3],
            [2, 3],
            [2, 4],
          ],
          [
            [3, 3],
            [2, 3],
            [3, 4],
          ],
          [
            [3, 3],
            [2, 3],
            [1, 2],
          ],
          [
            [3, 3],
            [2, 3],
            [3, 2],
          ],
          [
            [3, 3],
            [2, 3],
            [1, 4],
          ],
          [
            [3, 3],
            [4, 3],
            [5, 3],
          ],
          [
            [3, 3],
            [4, 3],
            [4, 2],
          ],
          [
            [3, 3],
            [4, 3],
            [4, 4],
          ],
          [
            [3, 3],
            [4, 3],
            [5, 4],
          ],
          [
            [3, 3],
            [4, 3],
            [3, 2],
          ],
          [
            [3, 3],
            [4, 3],
            [5, 2],
          ],
          [
            [3, 3],
            [4, 3],
            [3, 4],
          ],
          [
            [3, 3],
            [3, 2],
            [2, 2],
          ],
          [
            [3, 3],
            [3, 2],
            [4, 2],
          ],
          [
            [3, 3],
            [3, 2],
            [3, 1],
          ],
          [
            [3, 3],
            [3, 2],
            [4, 3],
          ],
          [
            [3, 3],
            [3, 2],
            [2, 1],
          ],
          [
            [3, 3],
            [3, 2],
            [4, 1],
          ],
          [
            [3, 3],
            [3, 2],
            [2, 3],
          ],
          [
            [3, 3],
            [3, 4],
            [2, 4],
          ],
          [
            [3, 3],
            [3, 4],
            [4, 4],
          ],
          [
            [3, 3],
            [3, 4],
            [3, 5],
          ],
          [
            [3, 3],
            [3, 4],
            [4, 5],
          ],
          [
            [3, 3],
            [3, 4],
            [2, 3],
          ],
          [
            [3, 3],
            [3, 4],
            [4, 3],
          ],
          [
            [3, 3],
            [3, 4],
            [2, 5],
          ],
          [
            [3, 3],
            [4, 4],
            [3, 4],
          ],
          [
            [3, 3],
            [4, 4],
            [5, 4],
          ],
          [
            [3, 3],
            [4, 4],
            [4, 3],
          ],
          [
            [3, 3],
            [4, 4],
            [4, 5],
          ],
          [
            [3, 3],
            [4, 4],
            [5, 5],
          ],
          [
            [3, 3],
            [4, 4],
            [5, 3],
          ],
          [
            [3, 3],
            [4, 4],
            [3, 5],
          ],
          [
            [3, 3],
            [2, 2],
            [1, 2],
          ],
          [
            [3, 3],
            [2, 2],
            [3, 2],
          ],
          [
            [3, 3],
            [2, 2],
            [2, 1],
          ],
          [
            [3, 3],
            [2, 2],
            [2, 3],
          ],
          [
            [3, 3],
            [2, 2],
            [1, 1],
          ],
          [
            [3, 3],
            [2, 2],
            [3, 1],
          ],
          [
            [3, 3],
            [2, 2],
            [1, 3],
          ],
          [
            [3, 3],
            [4, 2],
            [3, 2],
          ],
          [
            [3, 3],
            [4, 2],
            [5, 2],
          ],
          [
            [3, 3],
            [4, 2],
            [4, 1],
          ],
          [
            [3, 3],
            [4, 2],
            [4, 3],
          ],
          [
            [3, 3],
            [4, 2],
            [5, 3],
          ],
          [
            [3, 3],
            [4, 2],
            [3, 1],
          ],
          [
            [3, 3],
            [4, 2],
            [5, 1],
          ],
          [
            [3, 3],
            [2, 4],
            [1, 4],
          ],
          [
            [3, 3],
            [2, 4],
            [3, 4],
          ],
          [
            [3, 3],
            [2, 4],
            [2, 3],
          ],
          [
            [3, 3],
            [2, 4],
            [2, 5],
          ],
          [
            [3, 3],
            [2, 4],
            [3, 5],
          ],
          [
            [3, 3],
            [2, 4],
            [1, 3],
          ],
          [
            [3, 3],
            [2, 4],
            [1, 5],
          ],
        ];

        coordinates = allPaths;

        const gridSize = 10; // Size of each grid cell

        const radius = 2; // Radius of the circles

        const randomHexColor =
          "#" +
          Math.floor(Math.random() * 16777215)
            .toString(16)
            .padStart(6, "0");
        function drawCircle(x, y, l) {
          ctx.beginPath();
          ctx.lineWidth = 1;
          ctx.strokeStyle = "gold"; //"red"; // Circle color
          ctx.strokeRect(x, y - gridSize, gridSize, gridSize);
          const text = l;
          ctx.font = "14px Courier"; // Set the font size and style
          ctx.fill();
          ctx.fillStyle = randomHexColor;
          ctx.fillText(text, x, y); // Draw the text at (x, y)
          ctx.fillStyle = "blue"; // Circle color
          ctx.fillRect(x, y, 1, 1);
          ctx.closePath();
        }

        let iiii = 0;

        let iii = Math.floor(Math.random() * coordinates.length);

        for (const path of coordinates) {
          if (iiii === iii) {
            let ci = 0;
            for (const [row, col] of path) {
              const x = col * gridSize;
              const y = row * gridSize;
              let l = word[ci];
              ci++;
              drawCircle(x, y, l);
            }
          }
          iiii++;
        }
      }
      setInterval(() => {
        displayWordSnake();
      }, 100);
      displayWordSnake();
    </script>
  </body>
</html>
